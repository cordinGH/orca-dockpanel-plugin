:root{
  /* --box-shadow-color: rgb(from var(--orca-color-bg-1)  max(calc(r - 38), calc(38 - r)) max(calc(g - 38), calc(38 - g)) max(calc(b - 38), calc(38 - b)) / 1); */
  --box-shadow-color: rgb(from var(--orca-color-bg-1)  calc(r - 38) calc(g - 38) calc(b - 38) / 1);
  /* 当后方分屏时，尺寸拖拽条的z-index是60 */
  --z-index: 61;
  /* --z-index: calc(var(--orca-zindex-editor-sidepanel) + 1); */
}
@media (prefers-color-scheme: dark) {
  :root{
    --my-color-bg-1: #fff;;
    /* --background-color: rgb(from var(--orca-color-bg-1) r g b / .995); */
    --background-color: rgb(from var(--orca-color-bg-1) r g b / .98);
  }
}

@media (prefers-color-scheme: light) {
  :root{
    --my-color-bg-1: #000;
    /* --background-color: rgb(from var(--orca-color-bg-1) r g b / .975); */
    --background-color: rgb(from var(--orca-color-bg-1) r g b / .95);
  }
}


/* ———————————————————————————————————————————————————— */
/* 修复因为orca-panel而导致官方的list背景不生效的问题 */
/* orca-panel的背景色是为了在停靠时有一个更好的过渡效果 */
.orca-query-list-block{
  isolation: isolate;
}

/* ———————————————————————————————————————————————————— */
.has-docked-panel> .orca-panel:nth-last-child(1 of .orca-panel){
  position: absolute;
  min-width: 0 !important;
  min-height: 0 !important;
  /* 距离祖父容器main始终保持固定距离 */
  top: calc(.3125rem - var(--docked-panel-base-top));
  right: calc(.3125rem - var(--docked-panel-base-right));
  bottom: calc(.3125rem - var(--docked-panel-base-bottom));
  /* 52rem刚好是子块orca-hidden的left right为2px时的，内容不被压缩的最小尺寸 */
  width: min(80%, 52rem);
  height: auto;
  border-radius: var(--main-border-radius);
  border: var(--orca-border-general);
  /* box-shadow: 1rem .375rem 2rem -1rem var(--box-shadow-color); */
  box-shadow: 0 0 1rem -.25rem var(--box-shadow-color);
  overflow-x: hidden;
  overflow-y: hidden;
  z-index: var(--z-index);
  transform-origin: left top;
  transform-origin: right top;
  transition: 
    scale .25s ease-out,
    border-color .25s ease-out,
    box-shadow .25s ease-out,
    opacity .25s ease-out;
  background: var(--background-color);
  backdrop-filter: blur(7px) saturate(180%);
  padding: 2px;
  
  /* 隐藏尺寸调节器和 判定拖放行为的 覆盖层 */
  &>.resizer, &>.orca-panel-overlay{
    display: none;
  }

  /* 悬停效果边框变色，缩小阴影*/
  &:hover {
    border-color: var(--orca-color-primary-5);
    /* box-shadow: .75rem 0 .75rem -.75rem var(--box-shadow-color); */
  }
}


/* 移除左侧面板多余的拖拽条 */
.has-docked-panel> .orca-panel:nth-last-child(2 of .orca-panel)>:is(.resizer, .orca-panel-overlay) {    
    display: none;
}

/* 移除不需要的面板分割线 */
.has-docked-panel> .orca-panel:nth-last-child(2 of .orca-panel){
  border-right: 0 !important
}

/* 折叠状态*/
.has-docked-panel.collapsed-docked-panel> .orca-panel:nth-last-child(1 of .orca-panel){
  opacity: 0;
  pointer-events: none;
  transform-origin:right top;
  scale: 0.2 0.3;
  transition: 
    scale .25s ease-out,
    opacity .1s ease-out;
}